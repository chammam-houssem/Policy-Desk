<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Future of Renewable Energy | Houssem Chammam</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:ital,opsz,wght@0,8..144,400;0,8..144,500;0,8..144,600;1,8..144,400&display=swap" rel="stylesheet">
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/3/3a/Wind_turbine_icon.svg" type="image/svg+xml">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="tab-navigation">
        <div class="container">
            <div class="tab-nav">
                <a href="../index.html" class="tab-btn">Overview</a>
                <a href="../index.html#research" class="tab-btn">Research</a>
                <a href="../data.html" class="tab-btn">Data Projects</a>
                <a href="../blog.html" class="tab-btn active">Blog<span id="blog-colon">:</span> 
                    <span id="policy-desk-tab-text" class="gradient-text">The Policy Desk</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Article Header -->
    <header class="article-header">
        <div class="container">
            <div class="article-breadcrumb">
                <a href="../blog.html" class="breadcrumb-link">
                    <i class="fas fa-arrow-left"></i> Back to Blog
                </a>
            </div>
            
            <div class="article-meta">
                <div class="article-tags">
                    <span class="article-tag">Energy Policy</span>
                    <span class="article-tag">Sustainability</span>
                </div>
                <div class="article-date">
                    <i class="far fa-calendar"></i>
                    <time datetime="2025-04-04">April 4, 2025</time>
                    <span class="article-read-time">
                        <i class="far fa-clock"></i>
                        5 min read
                    </span>
                </div>
            </div>

            <h1 class="article-title">The Future of Renewable Energy</h1>
            <p class="article-subtitle">Exploring how renewable energy sources are shaping the future of global power generation and sustainability.</p>
            
            <div class="article-author">
                <img src="../Images/profile.jpg" alt="Houssem Chammam" class="author-avatar">
                <div class="author-info">
                    <span class="author-name">Houssem Chammam</span>
                    <span class="author-title">Policy Researcher</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Article Content -->
    <main class="article-main">
        <div class="container">
            <article class="article-content">
                <!-- Chart 1: Capacity by Plant Type -->
                <div class="chart-container">
                    <h3 class="chart-title">Tunisia's Power Generation Capacity by Plant Type</h3>
                    <div class="chart-wrapper">
                        <canvas id="capacityChart"></canvas>
                    </div>
                    <p class="chart-description">Distribution of actual generation capacity across different plant types in Tunisia's power grid</p>
                </div>

                <figure class="article-featured-image">
                    <img src="../Images/image1.jpg" alt="Renewable Energy Infrastructure" class="featured-img">
                    <figcaption>Wind turbines and solar panels representing the future of renewable energy</figcaption>
                </figure>

                <div class="article-body">
                    <p class="article-lead">The global energy landscape is undergoing a profound transformation. As nations grapple with climate change and energy security, renewable energy sources are emerging as the cornerstone of sustainable development strategies worldwide.</p>

                    <h2>The Current State of Renewable Energy</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vitae velit ex. Mauris dapibus risus quis suscipit vulputate. Sed convallis blandit massa ut auctor. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae.</p>

                    <blockquote class="article-quote">
                        "The transition to renewable energy is not just an environmental imperative, but an economic opportunity that will define the next century of global development."
                    </blockquote>

                    <h2>Key Technologies Driving Change</h2>
                    <p>Curabitur convallis, sem sit amet interdum ultrices, lectus augue viverra tellus, nec facilisis erat elit id massa. Praesent euismod, justo vel consectetur cursus, enim erat dictum urna, eget facilisis nisi magna vel nulla.</p>

                    <ul class="article-list">
                        <li>Solar photovoltaic systems with improved efficiency</li>
                        <li>Advanced wind turbine technologies</li>
                        <li>Energy storage solutions and battery technology</li>
                        <li>Smart grid infrastructure and management systems</li>
                    </ul>

                    <h2>Policy Implications and Challenges</h2>
                    <p>The shift toward renewable energy requires comprehensive policy frameworks that address both technical and socioeconomic challenges. Governments must balance energy transition goals with economic stability and social equity.</p>

                    <div class="article-highlight">
                        <h3><i class="fas fa-lightbulb"></i> Key Insight</h3>
                        <p>Successful renewable energy transitions require coordinated efforts across multiple sectors, including finance, technology, and regulatory frameworks.</p>
                    </div>

                    <h2>Looking Forward</h2>
                    <p>As we move toward 2030 and beyond, the renewable energy sector will continue to evolve. Emerging technologies, changing policy landscapes, and growing environmental awareness will shape the future of global energy systems.</p>

                    <!-- Chart 2: Plant Retirement Timeline -->
                    <div class="chart-container">
                        <h3 class="chart-title">Power Plant Retirement Timeline (2020-2045)</h3>
                        <div class="chart-wrapper">
                            <canvas id="retirementChart"></canvas>
                        </div>
                        <p class="chart-description">Scheduled retirement of power plants showing the transition timeline for Tunisia's energy infrastructure</p>
                    </div>
                </div>

                <!-- Article Footer -->
                <footer class="article-footer">
                    <div class="article-share">
                        <h3>Share this article</h3>
                        <div class="share-buttons">
                            <a href="#" class="share-btn linkedin" title="Share on LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="#" class="share-btn twitter" title="Share on Twitter">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="share-btn facebook" title="Share on Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                        </div>
                    </div>

                    <div class="article-navigation">
                        <a href="article2.html" class="nav-link nav-prev">
                            <i class="fas fa-chevron-left"></i>
                            <div>
                                <span class="nav-label">Previous Article</span>
                                <span class="nav-title">Sustainable Development Goals</span>
                            </div>
                        </a>
                        <a href="article3.html" class="nav-link nav-next">
                            <div>
                                <span class="nav-label">Next Article</span>
                                <span class="nav-title">Climate Policy in the Mediterranean</span>
                            </div>
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </div>
                </footer>
            </article>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer-content">
            <div class="footer-text">
                <p>&copy; 2025 Houssem Chammam. All rights reserved.</p>
            </div>
            <div class="footer-social">
                <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                <a href="#" class="social-link"><i class="fab fa-github"></i></a>
            </div>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script>
        // Load and process STEG data
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Attempting to load CSV...');
            
            Papa.parse('STEG Data.csv', {
                download: true,
                header: true,
                skipEmptyLines: true,
                dynamicTyping: true,
                complete: function(results) {
                    console.log('CSV loaded successfully:', results);
                    if (results.errors.length > 0) {
                        console.error('CSV parsing errors:', results.errors);
                    }
                    
                    const data = results.data.filter(row => row['Name of Plant'] && row['Name of Plant'] !== 'TOTAL');
                    console.log('Filtered data:', data);
                    
                    if (data.length === 0) {
                        console.error('No valid data found in CSV');
                        handleCSVError('No valid data found');
                        return;
                    }
                    
                    createCapacityChart(data);
                    createRetirementChart(data);
                },
                error: function(error) {
                    console.error('Error loading CSV:', error);
                    handleCSVError(error);
                }
            });
            
            // Timeout fallback
            setTimeout(() => {
                const charts = document.querySelectorAll('canvas');
                charts.forEach(canvas => {
                    if (!canvas.chart) {
                        console.warn('Chart loading timeout - trying alternative path');
                        handleCSVError('Loading timeout');
                    }
                });
            }, 5000);
        });

        function createCapacityChart(data) {
            console.log('Creating capacity chart with data:', data);
            
            const plantTypes = {};
            
            data.forEach(plant => {
                const type = plant['Type of Plant'];
                const capacity = parseFloat(plant['Actual Capacity (MW)']) || 0;
                
                if (type && capacity > 0) {
                    if (!plantTypes[type]) {
                        plantTypes[type] = 0;
                    }
                    plantTypes[type] += capacity;
                }
            });

            console.log('Plant types aggregated:', plantTypes);

            const typeLabels = {
                'TV': 'Steam Turbine',
                'TG': 'Gas Turbine', 
                'CC': 'Combined Cycle'
            };

            const labels = Object.keys(plantTypes).map(type => typeLabels[type] || type);
            const values = Object.values(plantTypes);
            const colors = ['#2196F3', '#4CAF50', '#FF9800'];

            const ctx = document.getElementById('capacityChart').getContext('2d');
            const chart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: values,
                        backgroundColor: colors,
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: { size: 14 },
                                padding: 20,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const total = values.reduce((a, b) => a + b, 0);
                                    const percentage = ((context.parsed / total) * 100).toFixed(1);
                                    return `${context.label}: ${context.parsed} MW (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
            
            ctx.canvas.chart = chart;
            console.log('Capacity chart created successfully');
        }

        function createRetirementChart(data) {
            console.log('Creating retirement chart with data:', data);
            
            const retirementData = {};
            
            data.forEach(plant => {
                const retirementYear = plant['Retirement Year'];
                const capacity = parseFloat(plant['Actual Capacity (MW)']) || 0;
                
                if (retirementYear && retirementYear >= 2020 && retirementYear <= 2045 && capacity > 0) {
                    if (!retirementData[retirementYear]) {
                        retirementData[retirementYear] = 0;
                    }
                    retirementData[retirementYear] += capacity;
                }
            });

            console.log('Retirement data aggregated:', retirementData);

            const years = Object.keys(retirementData).sort();
            const capacities = years.map(year => retirementData[year]);

            const ctx = document.getElementById('retirementChart').getContext('2d');
            const chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: years,
                    datasets: [{
                        label: 'Capacity to Retire (MW)',
                        data: capacities,
                        backgroundColor: '#E74C3C',
                        borderColor: '#C0392B',
                        borderWidth: 1,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.parsed.y} MW retiring in ${context.label}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Capacity (MW)',
                                font: { size: 14, weight: 'bold' }
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Retirement Year',
                                font: { size: 14, weight: 'bold' }
                            },
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
            
            ctx.canvas.chart = chart;
            console.log('Retirement chart created successfully');
        }

        function handleCSVError(error) {
            console.error('CSV Error:', error);
            
            // Show fallback message in chart containers
            const chartContainers = document.querySelectorAll('.chart-wrapper');
            chartContainers.forEach(container => {
                container.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #6c757d; text-align: center;">
                        <div>
                            <i class="fas fa-exclamation-triangle" style="font-size: 48px; margin-bottom: 16px; opacity: 0.5; color: #ffc107;"></i>
                            <p><strong>Unable to load chart data</strong></p>
                            <p style="font-size: 12px;">Please ensure 'STEG Data.csv' is in the same folder as this HTML file</p>
                            <p style="font-size: 12px; margin-top: 8px;">Error: ${error}</p>
                        </div>
                    </div>
                `;
            });
        }
    </script>
</body>
</html>